<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G.E.N.A.I.X. SRE Maturity Framework SPA</title>
    <!-- Chosen Palette: Slate & Purple -->
    <!-- Application Structure Plan: A single-page dashboard designed for guided exploration. The structure flows from high-level concepts to interactive tools and detailed information. 1. Intro to the Framework: Sets the stage. 2. Interactive Maturity Explorer: The core of the app, allowing users to select a current and target maturity to visualize the required effort. This immediately connects a user's context to the specific requirements. 3. Dynamic Recommendations: POD sizing and team composition update based on the explorer selection, providing instant, relevant guidance. 4. Implementation Lifecycle: A visual process flow to clarify the 'how-to'. 5. Dashboard Simulation: A concrete example of the framework's output using a Chart.js visualization. This structure was chosen to transform the static PDF into a goal-oriented tool, where users can quickly find information relevant to their specific situation (team size, goals) rather than reading linearly. -->
    <!-- Visualization & Content Choices: 1. Maturity Levels (Inform) -> Cards with icons (HTML/CSS) for a clear visual overview. 2. Maturity Matrix (Explore/Relate) -> Interactive HTML grid with JS-powered path animation on a canvas overlay. Replaces static image for user engagement and planning. 3. SRE Metrics (Compare/Inform) -> A dynamic table generated by JS, filtered by the target selection. 4. POD Composition (Inform) -> Cleanly styled cards that update dynamically. 5. Lifecycle (Organize/Inform) -> An HTML/CSS process flow diagram. 6. Dashboard (Compare) -> Chart.js bar chart for a professional, interactive data visualization of KPIs. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .chart-container { position: relative; width: 100%; max-width: 800px; margin-left: auto; margin-right: auto; height: 400px; max-height: 50vh; }
        .small-chart-container { position: relative; width: 100%; max-width: 400px; margin-left: auto; margin-right: auto; height: 350px; max-height: 45vh; }
        @media (min-width: 768px) { .chart-container { height: 450px; } }
        .nav-link { transition: color 0.3s; }
        .nav-link:hover { color: #8b5cf6; }
        
        #maturity-matrix-grid {
            display: grid;
            grid-template-columns: 6rem repeat(5, 1fr);
            gap: 0.5rem;
        }

        .matrix-cell { 
            transition: all 0.2s ease-in-out;
            aspect-ratio: 1 / 1;
        }
        .matrix-cell.selectable:hover { 
            transform: scale(1.1); 
            z-index: 10; 
            box-shadow: 0 0 15px rgba(167, 139, 250, 0.7);
            border-color: #a78bfa;
        }
        .matrix-cell.current-selection { background-color: #fbbf24 !important; color: #78350f; border: 2px solid #f59e0b; }
        .matrix-cell.target-selection { background-color: #6d28d9 !important; color: white; border: 2px solid #a78bfa; }
        .matrix-cell.disabled { cursor: not-allowed; filter: grayscale(80%) opacity(50%); }
        .matrix-cell.recommended-target {
            animation: pulse-glow 2s infinite;
        }
        
        @keyframes pulse-glow {
            0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); }
            100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
        }

        #path-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        }

        .step-item { flex: 1; }
        .step-item:not(:last-child)::after { content: '→'; color: #a78bfa; font-size: 1.5rem; font-weight: bold; position: absolute; right: -20px; top: 50%; transform: translateY(-50%); }
    
        .highlight-current { background-color: rgba(251, 191, 36, 0.2) !important; }
        .highlight-target { background-color: rgba(167, 139, 250, 0.2) !important; }

        /* Styles for Animated Intro */
        .intro-matrix-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            grid-template-rows: repeat(5, 1fr);
            gap: 4px;
            position: relative;
        }
        .intro-grid-cell {
            border-radius: 8px;
            transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .intro-header-cell, .intro-label-cell {
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            text-align: center;
            border-radius: 8px;
            color: white;
        }
        .intro-pod-size-label {
            writing-mode: vertical-rl;
            transform: rotate(180deg);
            background-color: #7c3aed;
        }
        .intro-level-label {
             background-color: #9d4edd;
        }

        .intro-highlight-cell {
            transform: scale(1.08) translateZ(20px);
            box-shadow: 0 0 30px rgba(167, 139, 250, 0.7);
            z-index: 10;
            border: 2px solid rgba(139, 92, 246, 0.9);
        }
        .intro-uplift-path {
            position: absolute;
            stroke: #4f46e5;
            stroke-width: 3px;
            stroke-dasharray: 8 8;
            fill: none;
            opacity: 0;
            stroke-dashoffset: 1000;
            transition: opacity 0.5s ease-in-out, stroke-dashoffset 2.5s ease-in-out;
        }
        .intro-uplift-path.visible {
            opacity: 0.8;
            stroke-dashoffset: 0;
        }
        .intro-path-dot {
             position: absolute;
             width: 16px;
             height: 16px;
             background-color: #4f46e5;
             border-radius: 50%;
             transform: translate(-50%, -50%);
             opacity: 0;
             transition: opacity 0.5s ease-in-out 0.5s;
             box-shadow: 0 0 10px #4f46e5;
        }
        .intro-path-dot.visible {
             opacity: 1;
        }
        .intro-header-guiding { background-color: #9d4edd; }
        .intro-header-explore { background-color: #7b2cbf; }
        .intro-header-normalize { background-color: #5a189a; }
        .intro-header-adapt { background-color: #3c096c; }
        .intro-header-intelligent { background-color: #240046; }
        
        .intro-grid-cell[data-level='1'] { background-color: rgba(157, 78, 221, 0.4); }
        .intro-grid-cell[data-level='2'] { background-color: rgba(123, 44, 191, 0.5); }
        .intro-grid-cell[data-level='3'] { background-color: rgba(90, 24, 154, 0.6); }
        .intro-grid-cell[data-level='4'] { background-color: rgba(60, 9, 108, 0.7); }
        .intro-grid-cell[data-level='5'] { background-color: rgba(36, 0, 70, 0.8); }
        
        .intro-timeline-bar {
             background: linear-gradient(to right, #9d4edd, #7b2cbf, #5a189a, #3c096c, #240046);
        }

        .play-button {
            transition: all 0.3s ease;
        }
        .play-button:disabled {
            cursor: not-allowed;
            background-color: #6b7280;
            opacity: 0.5;
        }

    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body class="bg-slate-50 text-slate-800">

    <header class="bg-slate-900/80 backdrop-blur-sm text-white sticky top-0 z-50 shadow-md">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold text-white">G.E.N.A.I.X. Framework</h1>
            <div class="hidden md:flex items-center space-x-6 text-sm font-medium">
                <a href="#framework" class="nav-link">Framework</a>
                <a href="#maturity-intro" class="nav-link">Maturity Matrix</a>
                <a href="#explorer" class="nav-link">Explorer</a>
                <a href="#recommendations" class="nav-link">Recommendations</a>
                <a href="#lifecycle" class="nav-link">Lifecycle</a>
                <a href="#dashboard" class="nav-link">Dashboard</a>
            </div>
            <button id="mobile-menu-button" class="md-hidden focus:outline-none">
                <span class="text-3xl">≡</span>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4 space-y-2">
            <a href="#framework" class="block nav-link">Framework</a>
            <a href="#maturity-intro" class="block nav-link">Maturity Matrix</a>
            <a href="#explorer" class="block nav-link">Explorer</a>
            <a href="#recommendations" class="block nav-link">Recommendations</a>
            <a href="#lifecycle" class="block nav-link">Lifecycle</a>
            <a href="#dashboard" class="block nav-link">Dashboard</a>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        
        <section id="framework" class="mb-16 scroll-mt-24">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-extrabold text-slate-900 mb-2">The G.E.N.A.I.X. Maturity Framework</h2>
                <p class="text-lg text-slate-600 max-w-3xl mx-auto">An evolutionary roadmap to transform operations from manual processes to GenAI-enabled, autonomous resilience.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Maturity Levels will be injected here by JS -->
            </div>
        </section>

        <section id="maturity-intro" class="mb-16 bg-white p-6 md:p-8 rounded-2xl shadow-lg scroll-mt-24">
            <div class="w-full max-w-4xl mx-auto">
                <h2 class="text-4xl font-bold text-center mb-8 text-slate-900">Maturity Matrix Explained</h2>
                <div class="relative">
                    <div class="intro-matrix-grid" id="intro-matrix-grid">
                        <div class="intro-header-cell"></div>
                        <div class="intro-header-cell intro-header-guiding">GUIDING</div>
                        <div class="intro-header-cell intro-header-explore">EXPLORE</div>
                        <div class="intro-header-cell intro-header-normalize">NORMALIZE</div>
                        <div class="intro-header-cell intro-header-adapt">ADAPT</div>
                        <div class="intro-header-cell intro-header-intelligent">INTELLIGENT</div>

                        <div class="intro-label-cell intro-pod-size-label" id="intro-pod-size-label-5">Extra-large</div>
                        <div class="intro-grid-cell" id="intro-cell-1-5" data-level="1"></div><div class="intro-grid-cell" id="intro-cell-2-5" data-level="2"></div><div class="intro-grid-cell" id="intro-cell-3-5" data-level="3"></div><div class="intro-grid-cell" id="intro-cell-4-5" data-level="4"></div><div class="intro-grid-cell" id="intro-cell-5-5" data-level="5"></div>
                        <div class="intro-label-cell intro-pod-size-label" id="intro-pod-size-label-4">Large</div>
                        <div class="intro-grid-cell" id="intro-cell-1-4" data-level="1"></div><div class="intro-grid-cell" id="intro-cell-2-4" data-level="2"></div><div class="intro-grid-cell" id="intro-cell-3-4" data-level="3"></div><div class="intro-grid-cell" id="intro-cell-4-4" data-level="4"></div><div class="intro-grid-cell" id="intro-cell-5-4" data-level="5"></div>
                        <div class="intro-label-cell intro-pod-size-label" id="intro-pod-size-label-3">Medium</div>
                        <div class="intro-grid-cell" id="intro-cell-1-3" data-level="1"></div><div class="intro-grid-cell" id="intro-cell-2-3" data-level="2"></div><div class="intro-grid-cell" id="intro-cell-3-3" data-level="3"></div><div class="intro-grid-cell" id="intro-cell-4-3" data-level="4"></div><div class="intro-grid-cell" id="intro-cell-5-3" data-level="5"></div>
                        <div class="intro-label-cell intro-pod-size-label" id="intro-pod-size-label-2">Small</div>
                        <div class="intro-grid-cell" id="intro-cell-1-2" data-level="1"></div><div class="intro-grid-cell" id="intro-cell-2-2" data-level="2"></div><div class="intro-grid-cell" id="intro-cell-3-2" data-level="3"></div><div class="intro-grid-cell" id="intro-cell-4-2" data-level="4"></div><div class="intro-grid-cell" id="intro-cell-5-2" data-level="5"></div>
                        <div class="intro-label-cell intro-pod-size-label" id="intro-pod-size-label-1">XS</div>
                        <div class="intro-grid-cell" id="intro-cell-1-1" data-level="1"></div><div class="intro-grid-cell" id="intro-cell-2-1" data-level="2"></div><div class="intro-grid-cell" id="intro-cell-3-1" data-level="3"></div><div class="intro-grid-cell" id="intro-cell-4-1" data-level="4"></div><div class="intro-grid-cell" id="intro-cell-5-1" data-level="5"></div>

                        <div class="intro-label-cell text-slate-700">POD SIZES</div>
                        <div class="intro-label-cell intro-level-label" id="intro-level-label-1">Level 1</div><div class="intro-label-cell intro-level-label" id="intro-level-label-2">Level 2</div><div class="intro-label-cell intro-level-label" id="intro-level-label-3">Level 3</div><div class="intro-label-cell intro-level-label" id="intro-level-label-4">Level 4</div><div class="intro-label-cell intro-level-label" id="intro-level-label-5">Level 5</div>
                    </div>

                    <svg id="uplift-svg" width="100%" height="100%" style="position: absolute; top: 0; left: 0; pointer-events: none;">
                        <path id="path1" d="" class="intro-uplift-path"/><path id="path2" d="" class="intro-uplift-path"/><path id="path3" d="" class="intro-uplift-path"/><path id="path4" d="" class="intro-uplift-path"/>
                    </svg>
                    <div id="dots-container" style="position: absolute; top: 0; left: 0; width:100%; height:100%; pointer-events: none;"></div>
                </div>

                <div class="mt-4 text-center">
                    <div class="inline-block w-full h-4 rounded-full intro-timeline-bar"></div>
                    <p class="text-sm text-slate-600 mt-2">Shortest timeline <span class="mx-4"> &harr; </span> Longest timeline per level</p>
                </div>
                <div class="text-center mt-8">
                    <button id="play-animation-btn" class="play-button bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-full shadow-lg text-xl focus:outline-none focus:ring-4 focus:ring-purple-300">
                        ▶ Play Animation
                    </button>
                </div>
            </div>
        </section>


        <section id="explorer" class="mb-16 bg-white p-6 md:p-8 rounded-2xl shadow-lg scroll-mt-24">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-slate-900 mb-2">Interactive Maturity Explorer</h2>
                <p class="text-md text-slate-600 max-w-3xl mx-auto">Select your team's current maturity, then its target. The tool will visualize the uplift path and generate tailored recommendations.</p>
            </div>

            <div class="flex flex-col md:flex-row items-center justify-center gap-4 mb-6">
                 <p id="selection-prompt" class="text-lg font-semibold text-purple-700">Select your CURRENT maturity</p>
                 <button id="reset-selection-btn" class="bg-slate-200 text-slate-700 text-sm font-bold py-2 px-4 rounded-full hover:bg-slate-300 transition hidden">Reset Selection</button>
            </div>
            
            <div id="maturity-matrix-container" class="relative max-w-3xl mx-auto">
                 <div id="maturity-matrix-grid">
                    <!-- Matrix cells will be injected here -->
                 </div>
                 <canvas id="path-canvas"></canvas>
            </div>

            <div id="metric-details-container" class="mt-12 opacity-0 transition-opacity duration-500">
                <h3 class="text-2xl font-bold text-center mb-6">Metric Requirements for Target: <span id="target-level-display" class="text-purple-600"></span></h3>
                <div id="metric-details" class="overflow-x-auto">
                    <!-- Metric details table will be injected here -->
                </div>
            </div>
        </section>

        <section id="recommendations" class="mb-16 scroll-mt-24">
             <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-slate-900">Dynamic Recommendations</h2>
                <p class="text-md text-slate-600 max-w-2xl mx-auto">Based on your target selection in the explorer, here is the recommended POD structure and team composition.</p>
            </div>
            <div id="pod-recommendation-container" class="bg-white p-8 rounded-2xl shadow-lg transition-all duration-500 ease-in-out opacity-0">
                <!-- POD recommendation will be injected here -->
            </div>
        </section>

        <section id="lifecycle" class="mb-16 scroll-mt-24">
             <div class="text-center mb-12">
                <h2 class="text-4xl font-extrabold text-slate-900 mb-2">The Transformation Lifecycle</h2>
                <p class="text-lg text-slate-600 max-w-3xl mx-auto">Follow this 6-step roadmap to implement the G.E.N.A.I.X. framework, moving from initial assessment to certified maturity.</p>
            </div>
            <div id="lifecycle-steps" class="flex flex-col md:flex-row items-stretch justify-center gap-y-8 md:gap-x-12 relative">
                <!-- Lifecycle steps will be injected here -->
            </div>
        </section>

        <section id="dashboard" class="scroll-mt-24">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-slate-900 mb-2">Sample Performance Dashboard</h2>
                <p class="text-md text-slate-600 max-w-2xl mx-auto">This interactive dashboard simulates how you can track a team's progress against their maturity targets for each core SRE metric.</p>
            </div>
            <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg">
                 <div class="max-w-xs mx-auto mb-8">
                    <label for="project-select" class="block text-sm font-medium text-slate-700 mb-1">Select a Sample Project:</label>
                    <select id="project-select" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm">
                        <option value="default">Microsoft Capability - AMS</option>
                    </select>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                    <div class="lg:col-span-2">
                        <div class="chart-container">
                            <canvas id="sre-kpi-chart"></canvas>
                        </div>
                    </div>
                    <div>
                        <div class="small-chart-container">
                            <canvas id="toil-chart"></canvas>
                        </div>
                    </div>
                     <div>
                        <div class="small-chart-container">
                             <canvas id="maturity-radar-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-slate-800 text-slate-400 mt-16 py-8">
        <div class="container mx-auto px-6 text-center text-sm">
            <p>&copy; 2025 ATCP SRE Automation Maturity Framework. All data derived from the source report.</p>
            <p class="mt-2">This is an interactive visualization for educational and assessment purposes.</p>
        </div>
    </footer>

    <script>
        const maturityLevelsData = [ { level: 1, name: 'GUIDING', desc: 'Reactive, manual, ad hoc processes with high toil.', icon: '🔥' }, { level: 2, name: 'EXPLORE', desc: 'Exploratory & structured, following scripts and SOPs.', icon: '🛠️' }, { level: 3, name: 'NORMALIZE', desc: 'Insight-driven, using SLOs, observability, and structured RCAs.', icon: '🩺' }, { level: 4, name: 'ADAPT', desc: 'Proactive, with feedback loops and AI/ML-driven failure prediction.', icon: '🔮' }, { level: 5, name: 'INTELLIGENT', desc: 'Agentic, with autonomous resolution and optimization.', icon: '🤖' }, { level: 'X', name: 'X-FORM', desc: 'Next-Level, emergent AI where systems self-generate and evolve.', icon: '🌌' } ];
        const podSizes = ['XL', 'L', 'M', 'S', 'XS'];
        const levels = [1, 2, 3, 4, 5];
        
        const podDataMatrix = {
             'XS': {
                2: { category: 'Foundational', roles: { 'SRE Analyst': { count: 1, alloc: 100 }, 'PM': { count: 1, alloc: 20 }, 'App SME': { count: 1, alloc: 20 } } },
                3: { category: 'Foundational', roles: { 'SRE Analyst': { count: 1, alloc: 100 }, 'Prompt Engineer': { count: 1, alloc: 100 }, 'GenAI Ambassador': { count: 1, alloc: 20 }, 'PM': { count: 1, alloc: 20 }, 'App SME': { count: 1, alloc: 20 } } },
                4: { category: 'Foundational', roles: { 'SRE Analyst': { count: 1, alloc: 100 }, 'Prompt Engineer': { count: 1, alloc: 100 }, 'GenAI Ambassador': { count: 1, alloc: 50 }, 'PM': { count: 1, alloc: 50 }, 'App SME': { count: 1, alloc: 30 } } },
                5: { category: 'Foundational', roles: { 'SRE Analysts': { count: 2, alloc: 100 }, 'Prompt Engineer': { count: 1, alloc: 100 }, 'GenAI Ambassador': { count: 1, alloc: 50 }, 'PM': { count: 1, alloc: 50 }, 'App SME': { count: 1, alloc: 30 } } }
            },
            'S': {
                3: { category: 'Foundational', roles: { 'SRE Analysts': { count: 1, alloc: 100 }, 'RPA Engineer': { count: 1, alloc: 100 }, 'GenAI Ambassador': { count: 1, alloc: 50 }, 'PM': { count: 1, alloc: 50 }, 'App SME': { count: 1, alloc: 30 } } },
                4: { category: 'Foundational', roles: { 'SRE Analysts': { count: 2, alloc: 100 }, 'RPA Engineer': { count: 1, alloc: 100 }, 'Prompt Engineer': { count: 1, alloc: 100 }, 'GenAI Ambassador': { count: 1, alloc: 50 }, 'PM': { count: 1, alloc: 70 }, 'App SME': { count: 1, alloc: 50 } } },
                5: { category: 'Growth', roles: { 'SRE Analysts': { count: 2, alloc: 100 }, 'SRE Ambassador': { count: 1, alloc: 100 }, 'RPA Engineer': { count: 1, alloc: 100 }, 'Prompt Engineer': { count: 1, alloc: 100 }, 'GenAI Ambassador': { count: 1, alloc: 100 }, 'PM': { count: 1, alloc: 100 } } }
            },
            'M': {
                3: { category: 'Growth', roles: { 'SRE Analyst': { count: 1, alloc: 100 }, 'SRE Ambassador': { count: 1, alloc: 100 }, 'Data Analyst': { count: 1, alloc: 100 }, 'RPA Engineer': { count: 1, alloc: 100 }, 'PM': { count: 1, alloc: 70 }, 'Tooling / Application SME': { count: 1, alloc: 80 } } },
                4: { category: 'Growth', roles: { 'SRE Analysts': { count: 2, alloc: 100 }, 'SRE Ambassador': { count: 1, alloc: 100 }, 'Data Analyst': { count: 1, alloc: 100 }, 'RPA Engineer': { count: 1, alloc: 100 }, 'Prompt Engineer': { count: 1, alloc: 100 }, 'PM': { count: 1, alloc: 100 }, 'Tooling / Application SME': { count: 1, alloc: 80 } } },
                5: { category: 'Growth', roles: { 'SRE Analysts': { count: 3, alloc: 100 }, 'SRE Ambassador': { count: 1, alloc: 100 }, 'Data Analyst': { count: 1, alloc: 100 }, 'RPA Engineer': { count: 1, alloc: 100 }, 'Prompt Engineers': { count: 2, alloc: 100 }, 'PM': { count: 1, alloc: 100 }, 'Tooling / Application SME': { count: 1, alloc: 100 } } }
            },
            'L': {
                4: { category: 'Strategic', roles: { 'SRE Analysts': { count: 2, alloc: 100 }, 'SRE Ambassador': { count: 1, alloc: 100 }, 'Data Analysts': { count: 1, alloc: 100 }, 'RPA Engineer': { count: 1, alloc: 100 }, 'Prompt Engineers': { count: 1, alloc: 100 }, 'PM': { count: 1, alloc: 100 }, 'Tooling / App SME': { count: 1, alloc: 80 } } },
                5: { category: 'Strategic', roles: { 'SRE Analysts': { count: 4, alloc: 100 }, 'SRE Ambassador': { count: 1, alloc: 100 }, 'Data Analysts': { count: 1, alloc: 100 }, 'RPA Engineer': { count: 1, alloc: 100 }, 'Prompt Engineers': { count: 2, alloc: 100 }, 'PM': { count: 1, alloc: 100 }, 'Tooling / App SME': { count: 1, alloc: 80 } } }
            },
            'XL': {
                4: { category: 'Strategic', roles: { 'Transformation Leads': { count: 1, alloc: 100 }, 'SRE Ambassadors': { count: 1, alloc: 100 }, 'SRE Analysts': { count: 3, alloc: 100 }, 'Data Analysts': { count: 1, alloc: 100 }, 'RPA Engineers': { count: 1, alloc: 100 }, 'Prompt Engineers': { count: 1, alloc: 100 }, 'PM': { count: 1, alloc: 100 }, 'Application SMEs': { count: 1, alloc: 100 } } },
                5: { category: 'Strategic', roles: { 'Transformation Leads': { count: 1, alloc: 100 }, 'SRE Ambassadors': { count: 2, alloc: 100 }, 'SRE Analysts': { count: 4, alloc: 100 }, 'Data Analysts': { count: 2, alloc: 100 }, 'RPA Engineers': { count: 2, alloc: 100 }, 'Prompt Engineers': { count: 2, alloc: 100 }, 'PM': { count: 1, alloc: 100 }, 'Application SMEs': { count: 2, alloc: 100 } } }
            }
        };

        const metrics = [ "Toil Management", "Incident Response", "Observability & Monitoring", "SLOS / SLIs", "Learning Reviews", "Knowledge Systems", "Tooling", "Chaos Engineering" ];
        const metricCriteria = { 
            "Toil Management": ["<10% automation", "10-30% automation", "30-50% automation", ">70% automated toil", ">90% toil resolved by agents", "100% zero-touch ops, self-generative"], 
            "Incident Response": ["No measurement", "Basic logging, ad hoc MTTR", "MTTR reduction 10-30%", "MTTR 40-60%", "MTTR >70%, GenAl triage/autofix", "Zero-downtime via predictive, autonomous agents"], 
            "Observability & Monitoring": ["Alerts only, no telemetry", "Threshold-based dashboards", "Anomaly detection active", "≥80% actionable alerts, ≥60% predictive acc.", "Auto-tuned alerts, telemetry learns patterns", "RCA written by telemetry, 100% prediction accuracy"], 
            "SLOS / SLIs": ["No tracking", "Basic dashboards", "SLIS/SLOS tracked, some reporting", "<=1x error budget burn per week", "Policy-based SLO enforcement", "Al enforces, optimizes and redesigns error budgets"], 
            "Learning Reviews": ["Rare or no PMs", "Templates used occasionally", "PMs drive follow-up actions", "≥90% incidents with PMs", "PMs auto-summarized by GenAl", "AI-to-AI PM loops, fully reflexive feedback system"], 
            "Knowledge Systems": ["Static, tribal knowledge", "Tagged SOPs and wikis", "Searchable KBs", "≥70% reuse, ≥90% search accuracy", "GenAl suggests and evolves KB content", "KB self-generates, refines from live operations"], 
            "Tooling": ["Disconnected scripts/tools", "Basic CI/CD", "CI/CD with monitoring integrations", ">75% tool consolidation", "Self-tuning infra via GenAl agents", "GenAl agents deploy and manage other agents"], 
            "Chaos Engineering": ["No practice", "Manual game days", "Fault injection tooling in place", "≥80% auto-recovery during chaos tests", "AI-informed chaos tuning and simulation", "Al runs, breaks, and heals infrastructure"] 
        };
        const lifecycleData = [ { step: 1, name: "Maturity Assessment", action: "Evaluate current state of project/team using the G.E.N.A.I.X. model.", output: "Maturity level per metrics (e.g., Toil=2, SLOs=3)"}, { step: 2, name: "Tool Inventory", action: "Identify existing tools used by the team.", output: "Capability-to-tool matrix showing gaps or overlaps"}, { step: 3, name: "Gap Analysis", action: "Engage SMEs for deeper understanding of tool usage, pain points, and blockers.", output: "Gap report + capability roadmap per team"}, { step: 4, name: "Target Definition", action: "Define the target maturity level per team/project.", output: "Capability heatmap per team/project showing current and target levels"}, { step: 5, name: "Transformation Plan", action: "Co-create action plans for each metric to move from current → target.", output: "Roadmap with initiatives, tools/skills needed, timeline, and KPIs"}, { step: 6, name: "Certification", action: "Achieve SRE Ambassador Certification (Maturity Badge Tagging).", output: "X-Form Readiness Identification if team hits Level 5"} ];
        const chartData = { default: { current: [75, 50, 80, 1, 95, 85, 70, 80], target: [80, 60, 80, 60, 90, 90, 80, 90] } };

        let currentSelection = null;
        let targetSelection = null;
        let selectionPhase = 'current'; 
        let sreChart, toilChart, radarChart;
        
        document.addEventListener('DOMContentLoaded', () => {
            populateMaturityLevels();
            setupMobileMenu();
            populateMatrix();
            populateLifecycle();
            initChart();
            initIntroAnimation();
            
            document.getElementById('reset-selection-btn').addEventListener('click', resetSelection);
            window.addEventListener('resize', () => drawPath(true));
        });

        function populateMaturityLevels() { const container = document.querySelector('#framework .grid'); container.innerHTML = maturityLevelsData.map(level => ` <div class="bg-white p-6 rounded-xl shadow-md border-b-4 border-purple-500 transition hover:shadow-xl hover:-translate-y-1"> <div class="flex items-center mb-4"> <span class="text-4xl mr-4">${level.icon}</span> <div> <p class="text-xs font-bold uppercase tracking-wider text-purple-600">Level ${level.level}</p> <h3 class="text-xl font-bold text-slate-900">${level.name}</h3> </div> </div> <p class="text-slate-600 text-sm">${level.desc}</p> </div> `).join(''); }
        function populateLifecycle() { const container = document.getElementById('lifecycle-steps'); container.innerHTML = lifecycleData.map(step => ` <div class="relative bg-white p-6 rounded-lg shadow-md border-l-4 border-purple-500 w-full md:w-auto step-item"> <p class="text-sm font-bold text-purple-700 mb-1">STEP ${step.step}</p> <h4 class="text-lg font-semibold mb-2">${step.name}</h4> <p class="text-sm text-slate-600 mb-2"><strong>Action:</strong> ${step.action}</p> <p class="text-sm text-slate-500 font-medium"><strong>Output:</strong> ${step.output}</p> </div> `).join(''); }
        function setupMobileMenu() { const button = document.getElementById('mobile-menu-button'); const menu = document.getElementById('mobile-menu'); button.addEventListener('click', () => { menu.classList.toggle('hidden'); }); menu.querySelectorAll('a').forEach(link => { link.addEventListener('click', () => menu.classList.add('hidden')); }); }

        function populateMatrix() {
            const gridContainer = document.getElementById('maturity-matrix-grid');
            gridContainer.innerHTML = '';
            
            const emptyCell = document.createElement('div');
            gridContainer.appendChild(emptyCell);
            
            maturityLevelsData.slice(0, 5).forEach(level => {
                const headerCell = document.createElement('div');
                headerCell.className = 'h-12 flex items-center justify-center font-bold text-slate-600 text-xs sm:text-sm md:text-base text-center';
                headerCell.textContent = level.name;
                gridContainer.appendChild(headerCell);
            });

            podSizes.forEach(size => {
                const yAxisCell = document.createElement('div');
                yAxisCell.className = 'h-full flex items-center justify-center font-bold text-slate-600 bg-slate-100 rounded text-sm md:text-base';
                yAxisCell.textContent = size;
                gridContainer.appendChild(yAxisCell);

                levels.forEach(level => {
                    const cell = document.createElement('div');
                    cell.className = 'matrix-cell selectable rounded-md cursor-pointer flex items-center justify-center text-transparent';
                    cell.style.backgroundColor = `rgba(139, 92, 246, ${level * 0.15 + 0.1})`;
                    cell.dataset.pod = size;
                    cell.dataset.level = level;
                    cell.id = `cell-${size}-${level}`;
                    cell.addEventListener('click', handleMatrixClick);
                    gridContainer.appendChild(cell);
                });
            });

            const bottomEmptyCell = document.createElement('div');
            gridContainer.appendChild(bottomEmptyCell);

            levels.forEach(level => {
                const footerCell = document.createElement('div');
                footerCell.className = 'h-12 flex items-center justify-center font-bold text-slate-600 text-sm md:text-base';
                footerCell.id = `footer-level-${level}`;
                footerCell.textContent = `Level ${level}`;
                gridContainer.appendChild(footerCell);
            });
        }

        function handleMatrixClick(event) {
            const cell = event.currentTarget;
            if (cell.classList.contains('disabled')) return;

            const selection = { pod: cell.dataset.pod, level: parseInt(cell.dataset.level) };

            if (selectionPhase === 'current') {
                currentSelection = selection;
                cell.classList.add('current-selection');
                
                if (currentSelection.level === 5) {
                    selectionPhase = 'done';
                    document.getElementById('selection-prompt').textContent = 'Level 5 Selected: Aiming for Level X!';
                    document.getElementById('reset-selection-btn').classList.remove('hidden');
                    document.querySelectorAll('.matrix-cell.selectable').forEach(c => {
                        if (!c.classList.contains('current-selection')) c.classList.add('disabled');
                    });
                    showLevelXRecommendations();
                } else {
                    selectionPhase = 'target';
                    document.getElementById('selection-prompt').textContent = 'Select your TARGET maturity';
                    updateDisabledCells();
                    showRecommendation();
                }
            } else if (selectionPhase === 'target') {
                targetSelection = selection;
                document.querySelectorAll('.matrix-cell').forEach(c => c.classList.remove('recommended-target'));
                clearCanvas();
                cell.classList.add('target-selection');
                selectionPhase = 'done';
                document.getElementById('selection-prompt').textContent = 'Uplift Path Selected!';
                document.getElementById('reset-selection-btn').classList.remove('hidden');
                document.querySelectorAll('.matrix-cell.selectable').forEach(c => {
                    if (!c.classList.contains('current-selection') && !c.classList.contains('target-selection')) {
                        c.classList.add('disabled');
                    }
                });
                drawPath(false, '#D97706', true);
                updateRecommendations(currentSelection.pod, currentSelection.level, targetSelection.level);
            }
        }
        
        function updateDisabledCells() {
            if (!currentSelection) return;
            document.querySelectorAll('.matrix-cell.selectable').forEach(cell => {
                const pod = cell.dataset.pod;
                const level = parseInt(cell.dataset.level);
                if (pod !== currentSelection.pod || level <= currentSelection.level) {
                     cell.classList.add('disabled');
                }
            });
        }

        function showRecommendation() {
            if (!currentSelection || currentSelection.level >= 5) return;
            const recommendedTarget = { pod: currentSelection.pod, level: 5 };
            
            const recommendedCell = document.getElementById(`cell-${recommendedTarget.pod}-${recommendedTarget.level}`);
            if(recommendedCell) {
                recommendedCell.classList.add('recommended-target');
            }
            
            drawPath(false, '#16A34A', true, recommendedTarget);
        }

        function resetSelection() {
            currentSelection = null;
            targetSelection = null;
            selectionPhase = 'current';
            document.getElementById('selection-prompt').textContent = 'Select your CURRENT maturity';
            document.getElementById('reset-selection-btn').classList.add('hidden');
            document.querySelectorAll('.matrix-cell').forEach(cell => {
                cell.classList.remove('current-selection', 'target-selection', 'disabled', 'recommended-target');
            });
            clearCanvas();
            document.getElementById('metric-details-container').classList.add('opacity-0');
            document.getElementById('pod-recommendation-container').classList.add('opacity-0');
        }
        
        function clearCanvas() {
            const canvas = document.getElementById('path-canvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        function drawPath(isResize = false, color = '#D97706', isDashed = false, overrideTarget = null) {
            const endSelection = overrideTarget || targetSelection;
            if (!currentSelection || !endSelection) return;

            const canvas = document.getElementById('path-canvas');
            const gridContainer = document.getElementById('maturity-matrix-grid');
            const ctx = canvas.getContext('2d');

            canvas.width = gridContainer.offsetWidth;
            canvas.height = gridContainer.offsetHeight;

            const startCell = document.getElementById(`cell-${currentSelection.pod}-${currentSelection.level}`);
            const endCell = document.getElementById(`cell-${endSelection.pod}-${endSelection.level}`);
            
            if(!startCell || !endCell) return;

            const startPos = { x: startCell.offsetLeft + startCell.offsetWidth / 2, y: startCell.offsetTop };
            const endPos = { x: endCell.offsetLeft + endCell.offsetWidth / 2, y: endCell.offsetTop };
            
            const point1 = { x: startPos.x, y: startPos.y + startCell.offsetHeight };
            const point2 = { x: startPos.x, y: startPos.y};
            const point3 = { x: endPos.x, y: endPos.y};
            const point4 = { x: endPos.x, y: endPos.y + endCell.offsetHeight };

            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.beginPath();
            
            if(isDashed) {
                ctx.setLineDash([8, 6]);
            } else {
                ctx.setLineDash([]);
            }

            ctx.lineWidth = 3;
            ctx.strokeStyle = color;
            ctx.moveTo(point1.x, point1.y);
            ctx.lineTo(point2.x, point2.y);
            ctx.lineTo(point3.x, point3.y);
            ctx.lineTo(point4.x, point4.y);
            ctx.stroke();
            
            drawArrow(ctx, point3.x, point3.y, point4.x, point4.y, color);
        }

        function drawArrow(ctx, fromx, fromy, tox, toy, color) {
            const headlen = 10;
            const dx = tox - fromx;
            const dy = toy - fromy;
            const angle = Math.atan2(dy, dx);
            ctx.save();
            ctx.strokeStyle = color;
            ctx.fillStyle = color;
            ctx.setLineDash([]);
            ctx.moveTo(tox, toy);
            ctx.lineTo(tox - headlen * Math.cos(angle - Math.PI / 6), toy - headlen * Math.sin(angle - Math.PI / 6));
            ctx.moveTo(tox, toy);
            ctx.lineTo(tox - headlen * Math.cos(angle + Math.PI / 6), toy - headlen * Math.sin(angle + Math.PI / 6));
            ctx.stroke();
            ctx.restore();
        }

        function updateRecommendations(podSize, currentLevel, targetLevel) {
            updateMetricDetailsTable(currentLevel, targetLevel);

            const podContainer = document.getElementById('pod-recommendation-container');
            let baseCompositionData = podDataMatrix[podSize]?.[targetLevel];
            let recommendationNote = '';
            
            if (!baseCompositionData) {
                const availableLevels = Object.keys(podDataMatrix[podSize] || {}).map(Number).sort((a,b) => a-b);
                const fallbackLevel = availableLevels[0];
                if (fallbackLevel) {
                    baseCompositionData = podDataMatrix[podSize][fallbackLevel];
                    recommendationNote = `<p class="text-xs text-center text-slate-500 mt-4">(Note: Composition based on the foundational team required for a Level ${fallbackLevel} transformation for this POD size.)</p>`;
                }
            }
            
            if (!baseCompositionData) {
                podContainer.innerHTML = `<p class="text-center text-slate-500">No recommendation available for this POD size.</p>`;
                podContainer.classList.remove('opacity-0');
                return;
            }

            const upliftCount = targetLevel - currentLevel;
            const scalingFactor = 0.4 + (upliftCount / 4) * 0.6;

            const scaledRoles = {};
            for (const role in baseCompositionData.roles) {
                const baseRole = baseCompositionData.roles[role];
                const scaledCount = Math.max(1, Math.ceil(baseRole.count * scalingFactor));
                scaledRoles[role] = { count: scaledCount, alloc: baseRole.alloc };
            }

            const rolesHTML = Object.entries(scaledRoles).map(([role, details]) => {
                const allocationText = `${details.count} (${details.alloc}%)`;
                return ` <li class="flex justify-between items-center py-2 border-b border-slate-100"> <span class="font-medium">${role}</span> <span class="text-sm font-semibold text-purple-700 bg-purple-100 px-2 py-1 rounded-full">${allocationText}</span> </li> `;
            }).join('');

            podContainer.innerHTML = ` <div class="mb-4"> <p class="text-sm font-bold uppercase tracking-wider text-slate-500">Selected POD Size: ${podSize} | Journey: Lvl ${currentLevel} → Lvl ${targetLevel}</p> <h3 class="text-2xl font-bold text-purple-700">${baseCompositionData.category}</h3> </div> <div> <h4 class="text-lg font-semibold mb-3">Recommended Team Composition</h4> <ul class="space-y-1">${rolesHTML}</ul> </div> ${recommendationNote}`;
            podContainer.classList.remove('opacity-0');
        }

        function updateMetricDetailsTable(currentLevel, targetLevel) {
            const detailsContainer = document.getElementById('metric-details-container');
            document.getElementById('target-level-display').textContent = `Level ${targetLevel}`;
            const tableContainer = document.getElementById('metric-details');
            let tableHTML = `<table class="min-w-full bg-white border border-slate-200"> <thead class="bg-slate-50"> <tr> <th class="py-3 px-4 text-left font-semibold text-slate-700 text-sm">SRE Metric</th>`;
            
            for(let i = 1; i <= targetLevel; i++) {
                let highlightClass = '';
                if (i === currentLevel) {
                    highlightClass = 'highlight-current';
                } else if (i === targetLevel) {
                    highlightClass = 'highlight-target';
                }
                tableHTML += `<th class="py-3 px-4 text-left font-semibold text-slate-700 text-sm ${highlightClass}">Level ${i}</th>`; 
            }
            tableHTML += `</tr></thead><tbody class="divide-y divide-slate-200">`;
            
            metrics.forEach(metric => { 
                tableHTML += `<tr><td class="py-3 px-4 font-medium text-sm text-slate-800">${metric}</td>`; 
                const criteria = metricCriteria[metric]; 
                for(let i = 0; i < targetLevel; i++) { 
                    let highlightClass = '';
                     if ((i + 1) === currentLevel) {
                        highlightClass = 'highlight-current';
                    } else if ((i + 1) === targetLevel) {
                        highlightClass = 'highlight-target';
                    }
                    tableHTML += `<td class="py-3 px-4 text-sm text-slate-600 ${highlightClass}">${criteria[i] || 'N/A'}</td>`; 
                } 
                tableHTML += `</tr>`; 
            });
            tableHTML += `</tbody></table>`;
            tableContainer.innerHTML = tableHTML;
            detailsContainer.classList.remove('opacity-0');
        }

        function showLevelXRecommendations() {
            const podContainer = document.getElementById('pod-recommendation-container');
            const data = podDataMatrix['XL']['5']; 

            const rolesHTML = Object.entries(data.roles).map(([role, details]) => {
                 const allocationText = `${details.count} (${details.alloc}%)`;
                return ` <li class="flex justify-between items-center py-2 border-b border-slate-100"> <span class="font-medium">${role}</span> <span class="text-sm font-semibold text-purple-700 bg-purple-100 px-2 py-1 rounded-full">${allocationText}</span> </li> `
            }).join('');
            podContainer.innerHTML = ` <div class="mb-4"> <p class="text-sm font-bold uppercase tracking-wider text-slate-500">Required POD Size for Level X: XL</p> <h3 class="text-2xl font-bold text-purple-700">${data.category}</h3> </div> <div> <h4 class="text-lg font-semibold mb-3">Team Composition for Transformation</h4> <ul class="space-y-1">${rolesHTML}</ul> </div> `;
            podContainer.classList.remove('opacity-0');

            const detailsContainer = document.getElementById('metric-details-container');
            document.getElementById('target-level-display').innerHTML = `Level X <span class="text-lg font-normal text-slate-500">(Emergent)</span>`;
            const tableContainer = document.getElementById('metric-details');
            let tableHTML = `<table class="min-w-full bg-white border border-slate-200"> <thead class="bg-slate-100"> <tr> <th class="py-3 px-4 text-left font-semibold text-slate-700 text-sm">SRE Metric</th> <th class="py-3 px-4 text-left font-semibold text-slate-700 text-sm highlight-target">Level X Goal</th></tr></thead><tbody class="divide-y divide-slate-200">`;
            metrics.forEach(metric => {
                const criteria = metricCriteria[metric][5] || 'N/A';
                tableHTML += `<tr><td class="py-3 px-4 font-medium text-sm text-slate-800">${metric}</td><td class="py-3 px-4 text-sm text-slate-600 highlight-target">${criteria}</td></tr>`;
            });
            tableHTML += `</tbody></table>`;
            tableContainer.innerHTML = tableHTML;
            detailsContainer.classList.remove('opacity-0');
        }

        function initChart() {
            const barCtx = document.getElementById('sre-kpi-chart').getContext('2d');
            sreChart = new Chart(barCtx, {
                type: 'bar',
                data: { labels: metrics, datasets: [ { label: 'Current', data: chartData.default.current, backgroundColor: 'rgba(167, 139, 250, 0.6)', borderColor: 'rgba(139, 92, 246, 1)', borderWidth: 1, borderRadius: 4 }, { label: 'Target', data: chartData.default.target, backgroundColor: 'rgba(99, 102, 241, 0.6)', borderColor: 'rgba(79, 70, 229, 1)', borderWidth: 1, borderRadius: 4 } ] },
                options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true, max: 100, ticks: { callback: function(value) { return value + '%' } } }, x: { ticks: { autoSkip: false, maxRotation: 45, minRotation: 45, font: { size: 10 } } } }, plugins: { legend: { position: 'top', }, title: { display: true, text: 'GENAIX SRE KPI Metrics vs Targets', font: { size: 16 } }, tooltip: { callbacks: { label: function(context) { let label = context.dataset.label || ''; if (label) { label += ': '; } if (context.parsed.y !== null) { label += context.parsed.y + '%'; } return label; } } } } }
            });

            const toilCtx = document.getElementById('toil-chart').getContext('2d');
            toilChart = new Chart(toilCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Automated Tasks', 'Manual Toil'],
                    datasets: [{
                        data: [75, 25],
                        backgroundColor: ['rgba(52, 211, 153, 0.7)', 'rgba(244, 63, 94, 0.7)'],
                        borderColor: ['rgba(16, 185, 129, 1)', 'rgba(225, 29, 72, 1)'],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        title: { display: true, text: 'Toil Reduction Progress', font: { size: 16 } }
                    }
                }
            });

            const radarCtx = document.getElementById('maturity-radar-chart').getContext('2d');
            radarChart = new Chart(radarCtx, {
                type: 'radar',
                data: {
                    labels: metrics.map(m => m.replace(/ & | /g, '\n')),
                    datasets: [{
                        label: 'Current Maturity Profile',
                        data: chartData.default.current.map(d => d / 20),
                        fill: true,
                        backgroundColor: 'rgba(139, 92, 246, 0.2)',
                        borderColor: 'rgba(139, 92, 246, 1)',
                        pointBackgroundColor: 'rgba(139, 92, 246, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(139, 92, 246, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 5,
                            stepSize: 1,
                            pointLabels: {
                                font: {
                                    size: 9
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        title: { display: true, text: 'SRE Maturity Profile', font: { size: 16 } }
                    }
                }
            });
        }

        function initIntroAnimation() {
            const playButton = document.getElementById('play-animation-btn');
            const synth = window.speechSynthesis;
            let utterance = null;

            const animationScript = [
                { text: "This matrix visualizes the effort and progression needed to uplift different project sizes, from extra-small to extra-large, through the SRE Framework maturity stages — from Level 1 (Guiding) to Level 5 (Intelligent).", highlights: [] },
                {
                    text: "The Y-axis shows POD sizes. As you go up, the scope and complexity of the project increases.",
                    highlights: ['intro-pod-size-label-1', 'intro-pod-size-label-2', 'intro-pod-size-label-3', 'intro-pod-size-label-4', 'intro-pod-size-label-5']
                },
                {
                    text: "The X-axis represents maturity levels. Each level requires more advanced capabilities.",
                    highlights: ['intro-level-label-1', 'intro-level-label-2', 'intro-level-label-3', 'intro-level-label-4', 'intro-level-label-5']
                },
                {
                    text: "The shaded cells show a project's current position and its target. For instance, a large project might currently be at level 3, aiming for level 5.",
                    highlights: ['intro-cell-3-4', 'intro-cell-5-4']
                },
                {
                    text: "The dashed lines illustrate the uplift journey. Notice how they trace the path from a team’s current level to their goal.",
                    highlights: [],
                    path: { id: 'all' }
                },
                {
                    text: "The color intensity deepens as you move to the right, symbolizing the increased resources, time, and skills needed for higher levels.",
                    highlights: ['intro-cell-1-4', 'intro-cell-2-4', 'intro-cell-3-4', 'intro-cell-4-4', 'intro-cell-5-4']
                },
                {
                    text: "Finally, the timeline bar at the bottom shows that larger pods generally take longer to advance through each level.",
                    highlights: []
                },
                {
                    text: "And that's a quick tour of the PODs Maturity Matrix.",
                    highlights: []
                }
            ];

            let currentStep = 0;

            function highlightElements(ids, add = true) {
                ids.forEach(id => {
                    const el = document.getElementById(id);
                    if (el) {
                        el.classList[add ? 'add' : 'remove']('intro-highlight-cell');
                    }
                });
            }
            
            function drawIntroPaths() {
                const paths = [
                    { id: 'path1', from: 'intro-cell-1-1', to: 'intro-cell-4-1' }, { id: 'path2', from: 'intro-cell-1-2', to: 'intro-cell-4-2' },
                    { id: 'path3', from: 'intro-cell-2-3', to: 'intro-cell-5-3' }, { id: 'path4', from: 'intro-cell-3-4', to: 'intro-cell-5-5' },
                ];
                
                const dotsContainer = document.getElementById('dots-container');
                dotsContainer.innerHTML = ''; 

                paths.forEach(p => {
                    const fromEl = document.getElementById(p.from);
                    const toEl = document.getElementById(p.to);
                    const pathEl = document.getElementById(p.id);

                    if (fromEl && toEl && pathEl) {
                        const startX = fromEl.offsetLeft + fromEl.offsetWidth / 2;
                        const startY = fromEl.offsetTop + fromEl.offsetHeight / 2;
                        const endX = toEl.offsetLeft + toEl.offsetWidth / 2;
                        const endY = toEl.offsetTop + toEl.offsetHeight / 2;
                        
                        const pathData = `M ${startX},${startY} L ${startX},${endY} L ${endX},${endY}`;
                        pathEl.setAttribute('d', pathData);

                        ['from', 'to'].forEach(point => {
                            const dot = document.createElement('div');
                            dot.className = 'intro-path-dot';
                            dot.style.left = point === 'from' ? `${startX}px` : `${endX}px`;
                            dot.style.top = point === 'from' ? `${startY}px` : `${endY}px`;
                            dot.id = `dot-${p[point]}`;
                            dotsContainer.appendChild(dot);
                        });
                    }
                });
            }

            function runAnimationStep() {
                if (currentStep >= animationScript.length) {
                    playButton.disabled = false; playButton.innerText = "▶ Replay Animation"; currentStep = 0;
                    return;
                }

                document.querySelectorAll('.intro-highlight-cell, .visible').forEach(el => {
                    el.classList.remove('intro-highlight-cell', 'visible');
                });

                const step = animationScript[currentStep];
                                
                utterance = new SpeechSynthesisUtterance(step.text);
                utterance.rate = 0.9; 
                utterance.pitch = 1.0; 

                utterance.onstart = () => {
                    highlightElements(step.highlights, true);
                    if (step.path && step.path.id === 'all') {
                        document.querySelectorAll('.intro-uplift-path, .intro-path-dot').forEach(el => el.classList.add('visible'));
                    }
                };

                utterance.onend = () => {
                    highlightElements(step.highlights, false);
                    currentStep++;
                    runAnimationStep();
                };

                synth.speak(utterance);
            }

            playButton.addEventListener('click', () => {
                if (synth.speaking) { synth.cancel(); }
                playButton.disabled = true; playButton.innerText = "Playing..."; currentStep = 0;
                setTimeout(runAnimationStep, 100);
            });
            
            setTimeout(drawIntroPaths, 100);
            window.addEventListener('resize', () => setTimeout(drawIntroPaths, 100));
        }
    </script>
</body>
</html>
